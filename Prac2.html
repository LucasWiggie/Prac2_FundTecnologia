<!DOCTYPE html>

<html>

<head>
    <h1> Practica 2 - Fundamentos de Tecnología de Videojuegos</h1>
    <h2> El juego de la vida</h2>
    <h2> Lucas Rubio Lezana 2º GDDV - Quintana</h2>
</head>

<body>

    <!-- ORGANIZACIÓN DE LA "INTERFAZ"-->

    <!--Lienzo de dibujo-->
    <canvas id="canvas" width="600" height="600" style="border:2px solid #000"></canvas>

    <!--El ususario introduce el numero de filas y columnas de la matriz-->
    <p>Introduzca el tamaño del mapa: </p>
    <input type="number" id="N">

    <!--Paso de la Simulación en la que se encuentra -->
    <p id="p1"></p>

    <!--Muestra cuantos pasos lleva viva la celula -->
    <p id="p2"></p>

    <!--Botones-->
    <button id="jugar" onclick="initWorld()"> JUGAR </button>
    <button id="detener"> DETENER </button>


    <!-- SCRIPT -->
    <script>
        class Mundo {
            constructor() {
                this._ancho = 0;
                this._matriz = new Array(0);
            }

            get matriz() {
                return this._matriz;
            }

            set matriz(newMatriz) {
                this._matriz = newMatriz;
            }

            get ancho() {
                return this._ancho;
            }

            set ancho(newAncho) {
                this._ancho = newAncho;
            }

            pintarTablero(N) {

            }
        }

        class Celula {
            // Cada celula tiene dos estados posibles, viva (1 = true) o muerta (0 = false)

            constructor() {
                this._estado = false;
                this._tiempo = 0.0;
            }

            get estado() {
                return this._estado;
            }

            set estado(newEstado) {
                this._estado = newEstado;
            }

            get tiempo() {
                return this._tiempo;
            }

            set tiempo(newTiempo) {
                this._tiempo = newTiempo;
            }
        }

        //Obtenemos la información del canvas
        var canvas = document.getElementById("canvas");
        var context = canvas.getContext("2d");

        var N = document.getElementById("N").value;

        // Función para inicializar el mundo y crear el tablero
        function initWorld() {

            var nuevaMatriz = new Array(N).fill(null);
            for (var i = 0; i < 10; i++) {
                nuevaMatriz[i] = new Array(N).fill(0);
            }

            var mundo = new Mundo();
            mundo._ancho = N;
            mundo._matriz = nuevaMatriz;

            // Dibujado de la cuadrícula
            for (var i = 0; i < mundo._matriz.length; i++) {
                for (var j = 0; j < mundo._matriz[i].length; j++) {
                    context.beginPath();
                    context.rect(i * N / 10, j * N / 10, N / 10, N / 10);
                    context.stroke();
                }
            }
        }

    </script>
</body>

</html>